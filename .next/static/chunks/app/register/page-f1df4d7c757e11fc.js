(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11],{8426:function(e,a,t){Promise.resolve().then(t.bind(t,5878))},5878:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return h}});var r=t(7437),n=t(2265),s=t(4033),o=t(1396),l=t.n(o),i=t(4829),d=t(5846),c=t(8686),m=t(4222),u=t(290),p=t(9502);function h(){let[e,a]=(0,n.useState)({last_name:"",first_name:"",email:"",birthdate:"",postal_code:"",address:"",phone_number:"",occupation:"",company_name:"",password:"",password_confirm:""}),[t,o]=(0,n.useState)({}),[h,x]=(0,n.useState)(!1),b=(0,s.useRouter)(),f=()=>{let a={};e.last_name.trim()||(a.last_name="姓は必須です"),e.first_name.trim()||(a.first_name="名は必須です"),e.email.trim()||(a.email="メールアドレスは必須です"),e.birthdate||(a.birthdate="生年月日は必須です"),e.postal_code.trim()||(a.postal_code="郵便番号は必須です"),e.address.trim()||(a.address="住所は必須です"),e.phone_number.trim()||(a.phone_number="電話番号は必須です"),e.occupation.trim()||(a.occupation="職業は必須です"),e.company_name.trim()||(a.company_name="勤務先名は必須です"),e.password||(a.password="パスワードは必須です"),e.password_confirm||(a.password_confirm="パスワード確認は必須です"),e.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)&&(a.email="メールアドレスの形式が正しくありません"),e.password&&e.password.length<8&&(a.password="パスワードは8文字以上で入力してください"),e.password&&e.password_confirm&&e.password!==e.password_confirm&&(a.password_confirm="パスワードが一致しません"),e.postal_code&&!/^\d{3}-\d{4}$/.test(e.postal_code)&&(a.postal_code="郵便番号は123-4567の形式で入力してください");let t=e.phone_number.replace(/\D/g,"");return e.phone_number&&(t.length<10||t.length>11)&&(a.phone_number="電話番号は10-11桁の数字で入力してください"),o(a),0===Object.keys(a).length},g=async a=>{if(a.preventDefault(),f()){x(!0);try{await i.Z.post("".concat("https://aps-irodori-02-service-agheduaahbcta4ce.eastasia-01.azurewebsites.net","/register"),e),alert("登録が完了しました！ログインページに移動します。"),b.push("/login")}catch(a){var t,r;let e=null===(r=a.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.detail;if("string"==typeof e)o({general:e});else if(Array.isArray(e)){let a={};e.forEach(e=>{var t;let r=null===(t=e.loc)||void 0===t?void 0:t[e.loc.length-1];r&&(a[r]=e.msg)}),o(a)}else o({general:"登録に失敗しました"})}finally{x(!1)}}},_=r=>{let{name:n,value:s}=r.target;a({...e,[n]:s}),t[n]&&o({...t,[n]:""})};return(0,r.jsxs)(c.Z,{maxWidth:"2xl",children:[(0,r.jsx)(d.Z,{subtitle:"新規登録"}),t.general&&(0,r.jsx)(p.Z,{message:t.general}),(0,r.jsxs)("form",{onSubmit:g,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsx)(m.Z,{label:"姓 *",type:"text",id:"last_name",name:"last_name",value:e.last_name,onChange:_,error:t.last_name}),(0,r.jsx)(m.Z,{label:"名 *",type:"text",id:"first_name",name:"first_name",value:e.first_name,onChange:_,error:t.first_name})]}),(0,r.jsx)(m.Z,{label:"メールアドレス *",type:"email",id:"email",name:"email",value:e.email,onChange:_,error:t.email}),(0,r.jsx)(m.Z,{label:"生年月日 *",type:"date",id:"birthdate",name:"birthdate",value:e.birthdate,onChange:_,error:t.birthdate}),(0,r.jsx)(m.Z,{label:"郵便番号 * (例: 123-4567)",type:"text",id:"postal_code",name:"postal_code",placeholder:"123-4567",value:e.postal_code,onChange:_,error:t.postal_code}),(0,r.jsx)(m.Z,{label:"住所 *",type:"text",id:"address",name:"address",value:e.address,onChange:_,error:t.address}),(0,r.jsx)(m.Z,{label:"電話番号 * (10-11桁の数字)",type:"tel",id:"phone_number",name:"phone_number",placeholder:"09012345678",value:e.phone_number,onChange:_,error:t.phone_number}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsx)(m.Z,{label:"職業 *",type:"text",id:"occupation",name:"occupation",value:e.occupation,onChange:_,error:t.occupation}),(0,r.jsx)(m.Z,{label:"勤務先名 *",type:"text",id:"company_name",name:"company_name",value:e.company_name,onChange:_,error:t.company_name})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsx)(m.Z,{label:"パスワード * (8文字以上)",type:"password",id:"password",name:"password",value:e.password,onChange:_,error:t.password}),(0,r.jsx)(m.Z,{label:"パスワード（確認用） *",type:"password",id:"password_confirm",name:"password_confirm",value:e.password_confirm,onChange:_,error:t.password_confirm})]}),(0,r.jsx)(u.Z,{type:"submit",loading:h,className:"w-full",children:"登録"})]}),(0,r.jsx)("div",{className:"mt-4 text-center",children:(0,r.jsx)(l(),{href:"/login",className:"text-blue-600 hover:text-blue-800",children:"ログインはこちら"})})]})}},290:function(e,a,t){"use strict";t.d(a,{Z:function(){return n}});var r=t(7437);function n(e){let{variant:a="primary",size:t="md",children:n,loading:s=!1,disabled:o,className:l="",...i}=e,d="".concat("font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 transition duration-200 disabled:opacity-50"," ").concat({primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"}[a]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2",lg:"px-6 py-3 text-lg"}[t]," ").concat(l);return(0,r.jsx)("button",{className:d,disabled:o||s,...i,children:s?"Loading...":n})}},8686:function(e,a,t){"use strict";t.d(a,{Z:function(){return n}});var r=t(7437);function n(e){let{children:a,className:t="",maxWidth:n="md"}=e,s="".concat({sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg","2xl":"max-w-2xl"}[n]," mx-auto bg-white shadow-md rounded-lg p-6 ").concat(t);return(0,r.jsx)("div",{className:s,children:a})}},9502:function(e,a,t){"use strict";t.d(a,{Z:function(){return n}});var r=t(7437);function n(e){let{message:a}=e;return(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-4",children:a})}},4222:function(e,a,t){"use strict";t.d(a,{Z:function(){return n}});var r=t(7437);function n(e){let{label:a,error:t,required:n=!1,className:s="",...o}=e,l="mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 ".concat(t?"border-red-300":"border-gray-300"," ").concat(s);return(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:o.id,className:"block text-sm font-medium text-gray-700",children:[a," ",n&&(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{className:l,...o}),t&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:t})]})}},5846:function(e,a,t){"use strict";t.d(a,{Z:function(){return n}});var r=t(7437);function n(e){let{title:a="IRODORI",subtitle:t}=e;return(0,r.jsxs)("div",{className:"text-center mb-6",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-blue-600 mb-2",children:a}),t&&(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:t})]})}}},function(e){e.O(0,[600,396,971,472,744],function(){return e(e.s=8426)}),_N_E=e.O()}]);